@{
    var hoaDon = ViewData["HoaDon"] as QuanLyQuanCaPhe.Models.HoaDonModel;
    var customer = ViewData["Customer"] as QuanLyQuanCaPhe.Models.KhachHangModel;
    var HoaDonSP = ViewData["HoaDonSP"] as List<HoaDonSanPhamModel>;
}

<h2>Chi tiết hóa đơn</h2>

<div class="card p-3">
    <h4 class="fw-bold">Thông tin hóa đơn</h4>
    <p><strong>Mã hóa đơn:</strong> @hoaDon.PK_sMaHD</p>
    <p><strong>Ngày xuất hóa đơn:</strong> @hoaDon.dNgayXuatHD.ToString("dd/MM/yyyy HH:mm")</p>
    <p><strong>Tổng tiền:</strong> @hoaDon.fTongTien.ToString("C0")</p>
</div>

<div class="card mt-3 p-3">
    <h4 class="fw-bold">Thông tin khách hàng</h4>
    <p><strong>Mã khách hàng:</strong> @customer.PK_sMaKH</p>
    <p><strong>Tên khách hàng:</strong> @customer.sTenKH</p>
    <p><strong>Số điện thoại:</strong> @customer.sSDT</p>
    <p><strong>Địa chỉ:</strong> @customer.sDiaChi</p>
</div>

<div class="card mt-3 p-3">
    <h4 class="fw-bold">Chi tiết sản phẩm</h4>
    <table class="table table-bordered mt-2">
        <thead>
            <tr>
                <th>Sản phẩm</th>
                <th>Số lượng</th>
                <th>Đơn giá</th>
                <th>Thành tiền</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var hdsp in HoaDonSP)
            {
                <tr>
                    <td>
                        @foreach (var sp in ViewBag.SanPham)
                        {
                            if (sp.PK_sMaSP == hdsp.FK_sMaSP)
                            {
                                @sp.sTenSP
                            }
                        }
                    </td>
                    <td>@hdsp.iSoLuong</td>
                    <td>@hdsp.fDonGia.ToString("C0")</td>
                    <td>@hdsp.fThanhTien.ToString("C0")</td>
                </tr>
            }
        </tbody>
    </table>
</div>
